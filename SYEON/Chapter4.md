# 03장 역할, 책임, 협력

## 역할, 책임, 협력

협력   
협력은 요청과 응답으로 구성된다. 요청을 할 수 있는 객체가 해당 요청에 응답할 수 있는 객체에게 요청함으로 발생한다.

책임   
무엇을 알고 있는가와 무엇을 할 수 있는가로 구성된다.

아는 것
* 개인적인 정보(속성)에 대해 아는 것   
* 관련된 객체(링크)에 대해 아는 것

할 수 있는 것
* 스스로 행동하는 것
* 다른 객체의 행동을 시작시키는 것(요청)

책임은 객체의 공용 인터페이스를 구축한다. 다른 객체가 해당 객체에게 무엇을 시킬 수 있는지를 알려준다.

역할   
객체를 객체가 아닌 역할로 볼 수 있게 해준다.
증인은 증인일 뿐, 강승연이 될 수도, 전희원이 될 수도, 성재이가 될 수도 있다. 증언을 할 수 있는 객체라면 그 어떤 객체도 증인의 역할을 맡을 수 있다. 즉, 역할의 대체 가능성은 행위 호환성을 의미한다.

이때, 증인을 역할이라 하고 증인의 역할을 할 수 있는 객체를 구현체라고 한다. 

위와 같이 객체가 아닌 역할로 협력을 말하는 것을 협력의 추상화라고 한다.

## 설계 기법

객체지향 설계는 클래스가 아닌 협력관계를 파악하는 것에서부터 시작한다. 왕을 설계할 때 왕의 이미지에 치중하는 것보다 왕이 어떤 객체와 어떻게 협력할 것인지 생각하는 것이 설계에 도움이 된다.

1. 책임 주도 설계   
시스템 책임을 파악한 뒤, 이를 잘게 분할한다. 분할된 책임을 적절한 객체 혹은 역할을 찾아 부여한다.
2. 디자인 패턴   
이미 많은 사람들이 설계 후 사용해본 것을 패턴화 한 것이다.
3. 테스트 주도 개발   
테스트를 먼저 작성한 뒤 테스트를 통과하는 코드를 짠다.

